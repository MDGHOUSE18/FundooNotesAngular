<div class="outer">
  <div class="inner">
    <!-- Progress Bar (Loading Indicator) -->
    <mat-progress-bar
      mode="indeterminate"
      *ngIf="bar == true"
    ></mat-progress-bar>

    <div class="container">
      <!-- Left Section -->
      <div class="left">
        <img src="../../../assets/logo.png" alt="Logo" />
        <h1>Sign in</h1>
        <p>Use your Fundoo Account</p>
      </div>

      <!-- Right Section (Form) -->
      <div class="right">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <!-- Top Section -->
          <div class="top">
            <!-- Username Field -->
            <p>
              <mat-form-field appearance="outline">
                <mat-error
                  *ngIf="loginForm.get('username')?.hasError('required')"
                >
                  Email or phone is required.
                </mat-error>
                <mat-error *ngIf="loginForm.get('username')?.hasError('email')">
                  Email is not valid.
                </mat-error>
                <mat-label>Email or Phone</mat-label>
                <input
                  matInput
                  placeholder="Email or Phone"
                  formControlName="username"
                />
              </mat-form-field>
            </p>

            <!-- Password Field -->
            <p>
              <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input
                  matInput
                  [type]="hide ? 'password' : 'text'"
                  placeholder="Password"
                  formControlName="password"
                />
                <!-- Toggle Password Visibility -->
                <button
                  mat-icon-button
                  matSuffix
                  type="button"
                  (click)="hide = !hide"
                  [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="hide"
                >
                  <mat-icon>{{
                    hide ? "visibility_off" : "visibility"
                  }}</mat-icon>
                </button>
                <mat-error
                  *ngIf="loginForm.get('password')?.hasError('required')"
                >
                  Password is required.
                </mat-error>
                <mat-error
                  *ngIf="loginForm.get('password')?.hasError('pattern')"
                >
                  Password must be at least 8 characters, including uppercase,
                  lowercase, number, and special character.
                </mat-error>
              </mat-form-field>
              <a routerLink="/forgotpassword">Forgot password?</a>
            </p>
          </div>

          <!-- Bottom Section -->
          <div class="bottom">
            <a routerLink="/register">Create Account</a>
            <button
              mat-flat-button
              color="primary"
              type="submit"
              [disabled]="!loginForm.valid"
            >
              Login
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
