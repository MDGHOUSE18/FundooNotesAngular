<div class="outer">
  <div class="inner">
    <!-- Progress Bar (Loading Indicator) -->
    <mat-progress-bar
      mode="indeterminate"
      *ngIf="bar == true"
    ></mat-progress-bar>

    <div class="header">
      <h1>Create your Fundoo Account</h1>
    </div>

    <!-- Registration Form -->
    <form [formGroup]="registerForm">
      <div class="main">
        <!-- Left Section -->
        <div class="left">
          <p>
            <!-- First Name Field -->
            <mat-form-field appearance="outline">
              <mat-label>First name</mat-label>
              <input
                matInput
                placeholder="First name"
                formControlName="firstName"
              />
              <mat-error
                *ngIf="registerForm.get('firstName')?.hasError('required')"
              >
                First name is required.
              </mat-error>
            </mat-form-field>
          </p>
          <p>
            <!-- Last Name Field -->
            <mat-form-field appearance="outline">
              <mat-label>Last name</mat-label>
              <input
                matInput
                placeholder="Last name"
                formControlName="lastName"
              />
              <mat-error
                *ngIf="registerForm.get('lastName')?.hasError('required')"
              >
                Last name is required.
              </mat-error>
            </mat-form-field>
          </p>
          <p>
            <!-- Email or Phone Field -->
            <mat-form-field appearance="outline">
              <mat-label>Email or Phone</mat-label>
              <input
                matInput
                placeholder="Email or Phone"
                formControlName="email"
              />
              <mat-error
                *ngIf="registerForm.get('email')?.hasError('required')"
              >
                Email or phone is required.
              </mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                Email is not valid.
              </mat-error>
            </mat-form-field>
          </p>
        </div>

        <!-- Right Section -->
        <div class="right">
          <p>
            <!-- Password Field -->
            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input
                matInput
                [type]="hidePassword ? 'password' : 'text'"
                placeholder="Password"
                formControlName="password"
              />
              <button
                mat-icon-button
                matSuffix
                type="button"
                (click)="hidePassword = !hidePassword"
              >
                <mat-icon>{{
                  hidePassword ? "visibility_off" : "visibility"
                }}</mat-icon>
              </button>
              <mat-error
                *ngIf="registerForm.get('password')?.hasError('required')"
              >
                Password is required.
              </mat-error>
              <mat-error
                *ngIf="registerForm.get('password')?.hasError('pattern')"
              >
                Password must include uppercase, lowercase, number, and special
                character.
              </mat-error>
            </mat-form-field>
          </p>
          <p>
            <!-- Confirm Password Field -->
            <mat-form-field appearance="outline">
              <mat-label>Confirm Password</mat-label>
              <input
                matInput
                [type]="hideConfirmPassword ? 'password' : 'text'"
                placeholder="Confirm Password"
                formControlName="confirmPassword"
              />
              <!-- Toggle Password Visibility -->
              <button
                mat-icon-button
                matSuffix
                (click)="hideConfirmPassword = !hideConfirmPassword"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hideConfirmPassword"
              >
                <mat-icon>
                  {{ hideConfirmPassword ? "visibility_off" : "visibility" }}
                </mat-icon>
              </button>

              <!-- Error Message -->
              <mat-error
                *ngIf="
                  registerForm.hasError('mismatch') && registerForm.touched
                "
              >
                Passwords do not match.
              </mat-error>
              <mat-error
                *ngIf="
                  registerForm.get('confirmPassword')?.hasError('required')
                "
              >
                Confirm Password is required.
              </mat-error>
            </mat-form-field>
          </p>
          <div class="foo">
            <!-- Footer -->
            <a routerLink="/login">Sign in Instead</a>
            <button
              mat-flat-button
              color="primary"
              type="submit"
              [disabled]="!registerForm.valid"
              (click)="onSubmit()"
            >
              Register
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
